@import models.project.{Project, ProjectStates}
@import models.user.User
@import ore.permission.Permission
@(project: Project, perms: Map[Permission, Boolean], user: User)(implicit messages: Messages)

<div class="btn-group btn-group-sm">
    <button class="btn btn-alert btn-hide-dropdown dropdown-toggle" type="button" id="state-actions" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-project="@project.ownerName/@project.slug" style="color: black">
        <i class="fa fa-eye"></i> State actions
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" aria-labelledby="state-actions">
    @for(state <- ProjectStates.values.toSeq.sortBy(_.id)) {
        @if(perms(state.permission)) {
        <li>
            <a href="#" class="btn-state-change" data-project="@project.ownerName/@project.slug" data-level="@state.id" @if(state.showModal){ data-modal="true" }>
                @messages("project.state." + state.nameKey) @if(project.state == state) { <i class="fa fa-check" style="color: black" aria-hidden="true"></i> }
            </a>
        </li>
        }
    }
    </ul>
</div>
